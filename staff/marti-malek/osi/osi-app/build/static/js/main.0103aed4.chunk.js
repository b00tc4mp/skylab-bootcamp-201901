(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(40)},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(43),l=n(6),u=n.n(l),s=n(7),f=n(1),h=n(41),m=n(42),d=n(44);n(23),n(24);var p=function(e){var t=e.actualError,n=e.actualMessage,r=e.closeFeedback;return a.a.createElement("section",{className:"feedback"},t?a.a.createElement("div",{className:"feedback__error"},a.a.createElement("i",{onClick:function(){return r()},className:"feedback__icon fas fa-times"}),a.a.createElement("p",{className:"feedback__error__message"},t.message?t.message:t)):null,n?a.a.createElement("div",{className:"feedback__warning"},a.a.createElement("i",{onClick:function(){return r()},className:"feedback__icon fas fa-times"}),a.a.createElement("p",{className:"feedback__warning__message"},n)):null)};n(25);var g=function(e){var t=e.goToLogin,n=e.goToRegister;return a.a.createElement("section",{className:"landing"},a.a.createElement("div",{className:"landing__div"},a.a.createElement("h1",{className:"landing__title"},"Welcome to OSI")),a.a.createElement("h4",{className:"landing__advise"},"Full-screen mode is advised for a better experience"),a.a.createElement("div",{src:"../../media/logo.png",alt:"metallic logo",className:"landing__logo"}),a.a.createElement("div",{className:"landing__buttons"},a.a.createElement("button",{className:"landing__login",onClick:t},"Login"),a.a.createElement("button",{className:"landing__register",onClick:n},"Register")))};n(26);var E=function(e){var t=e.handleEmailInput,n=e.handlePasswordInput,o=e.handleFormSubmit,i=e.onLogin,c=e.goToRegister,l=e.wheelHandler,u=(e.MouseWheelHandler,Object(r.useState)("")),s=Object(f.a)(u,2),h=s[0],m=s[1],d=Object(r.useState)(""),p=Object(f.a)(d,2),g=p[0],E=p[1],b=Object(r.useRef)();return Object(r.useEffect)(function(){},[b]),t=function(e){return m(e.target.value)},n=function(e){return E(e.target.value)},o=function(e){e.preventDefault(),i(h,g)},l=function(e){e.cancelable&&c()},a.a.createElement("section",{className:"login",ref:b,onWheel:function(e){return l(e)}},b&&a.a.createElement("form",{className:"login__form",onSubmit:o},a.a.createElement("div",null,a.a.createElement("input",{onChange:t,id:"email",className:"login__name",name:"email",type:"email",required:!0}),a.a.createElement("label",null,"Email")),a.a.createElement("div",null,a.a.createElement("input",{onChange:n,id:"password",className:"login__password",name:"password",type:"password",required:!0}),a.a.createElement("label",null,"Password")),a.a.createElement("button",{className:"login__button"},"Login")),a.a.createElement("div",{className:"login__register",onClick:function(){return c()}},"Swipe left or click here to go to register"))};n(27);var b=function(e){var t=e.handleEmailInput,n=e.handlePasswordInput,o=e.handleNameInput,i=e.handleSurnameInput,c=e.handlePasswordConfirmInput,l=e.handleFormSubmit,u=e.onRegister,s=e.wheelHandler,h=e.goToLogin,m=Object(r.useState)(""),d=Object(f.a)(m,2),p=d[0],g=d[1],E=Object(r.useState)(""),b=Object(f.a)(E,2),_=b[0],y=b[1],w=Object(r.useState)(""),v=Object(f.a)(w,2),j=v[0],T=v[1],k=Object(r.useState)(""),O=Object(f.a)(k,2),N=O[0],F=O[1],S=Object(r.useState)(""),C=Object(f.a)(S,2),D=C[0],x=C[1];return o=function(e){return g(e.target.value)},i=function(e){return y(e.target.value)},t=function(e){return T(e.target.value)},n=function(e){return F(e.target.value)},c=function(e){return x(e.target.value)},l=function(e){e.preventDefault(),u(p,_,j,N,D)},s=function(e){e.cancelable&&h()},a.a.createElement("section",{className:"register",onWheel:function(e){return s(e)}},a.a.createElement("form",{onSubmit:l,className:"register__form"},a.a.createElement("div",null,a.a.createElement("input",{onChange:o,className:"register__name",name:"name",type:"text",required:!0}),a.a.createElement("label",null,"Name")),a.a.createElement("div",null,a.a.createElement("input",{onChange:i,className:"register__surname",name:"surname",type:"text",required:!0}),a.a.createElement("label",null,"Surname")),a.a.createElement("div",null,a.a.createElement("input",{onChange:t,className:"register__email",name:"email",type:"email",required:!0}),a.a.createElement("label",null,"Email")),a.a.createElement("div",null,a.a.createElement("input",{onChange:n,className:"register__password",name:"password",type:"password",required:!0}),a.a.createElement("label",null,"Password")),a.a.createElement("div",null,a.a.createElement("input",{onChange:c,className:"register__passwordConfirm",name:"passwordConfirm",type:"password",required:!0}),a.a.createElement("label",null,"Password Confirmation")),a.a.createElement("button",{className:"register__button"},"Register")),a.a.createElement("div",{className:"register__login",onClick:function(){return h()}},"Swipe right or click here to go to login"))};n(28);var _=function(e){var t=e.newFolder,n=e.newFile,r=e.openFinder,o=e.openMenu,i=e.openCalc;return a.a.createElement("section",{className:"toolbar"},a.a.createElement("div",{className:"toolbar__logo",onClick:function(e){return o(e)}}),a.a.createElement("div",{className:"toolbar__file",onClick:function(){return n()}},a.a.createElement("i",{className:"icon fas fa-file"},a.a.createElement("i",{className:"sub-icon fas fa-plus"}))),a.a.createElement("div",{className:"toolbar__folder",onClick:function(){return t()}},a.a.createElement("i",{className:"icon fas fa-folder-plus"})),a.a.createElement("div",{className:"toolbar__calc",onClick:function(){return i()}},a.a.createElement("i",{className:"icon fas fa-calculator"})),a.a.createElement("div",{className:"toolbar__finder",onClick:function(){return r()}},a.a.createElement("i",{className:"icon fas fa-search"})))};n(29);var y=function(e){e.clock;var t=e.checkTime;return e.showClock,setInterval(function(){var e=new Date,n=e.getHours(),r=e.getMinutes(),a=e.getSeconds();t=function(e){return e<10&&(e="0"+e),e};var o=document.querySelectorAll(".clock")[0];o&&(o.innerHTML=t(n)+":"+t(r)+":"+t(a))},1e3),a.a.createElement("section",{className:"clock"})};n(30);var w=function(e){var t=e.desktop,n=e.goFullScreen,o=Object(r.useState)(null),i=Object(f.a)(o,2),c=i[0],l=i[1],u=Object(r.useRef)(),s=Object(r.useRef)();return n=function(){var e=t.current;c?(s.current.beginElement(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),l(!1)):(u.current.beginElement(),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),l(!0))},a.a.createElement("section",{className:"todos"},a.a.createElement("svg",{className:"todos__fullscreen",onClick:function(){return n()}},a.a.createElement("path",{id:"play",d:"m 3.4285714,15.428571 -3.42857145,0 0,8.571429 8.57142905,0 0,-3.428571 -5.1428577,0 0,-5.142858 z M -5e-8,8.5714287 l 3.42857145,0 0,-5.1428573 5.1428577,0 L 8.5714291,0 -4.9999999e-8,0 l 0,8.5714287 z M 20.571428,20.571429 l -5.142857,0 0,3.428571 L 24,24 l 0,-8.571429 -3.428572,0 0,5.142858 z M 15.428571,2e-7 l 0,3.4285714 5.142857,0 0,5.1428571 3.428572,0 L 24,2e-7 l -8.571429,0 z"},a.a.createElement("animate",{ref:u,id:"animation-to",begin:"indefinite",fill:"freeze",attributeName:"d",dur:"0.15s",to:"m 5.0000001e-8,18.857143 5.14285695,0 0,5.142857 3.428572,0 0,-8.571429 -8.571428950000001,0 0,3.428572 z M 5.142857,5.1428572 l -5.14285695,0 0,3.4285714 8.571428949999999,0 0,-8.571428500000001 -3.428572,0 0,5.142857100000001 z M 15.428571,24 l 3.428572,0 0,-5.142857 5.142857,0 0,-3.428572 -8.571429,0 0,8.571429 z m 3.428572,-18.8571428 0,-5.1428571 -3.428572,0 0,8.5714285 8.571429,0 0,-3.4285714 -5.142857,0 z"}),a.a.createElement("animate",{id:"animation-from",ref:s,begin:"indefinite",fill:"freeze",attributeName:"d",dur:"0.15s",to:"m 3.4285714,15.428571 -3.42857145,0 0,8.571429 8.57142905,0 0,-3.428571 -5.1428577,0 0,-5.142858 z M -5e-8,8.5714287 l 3.42857145,0 0,-5.1428573 5.1428577,0 L 8.5714291,0 -4.9999999e-8,0 l 0,8.5714287 z M 20.571428,20.571429 l -5.142857,0 0,3.428571 L 24,24 l 0,-8.571429 -3.428572,0 0,5.142858 z M 15.428571,2e-7 l 0,3.4285714 5.142857,0 0,5.1428571 3.428572,0 L 24,2e-7 l -8.571429,0 z"}))))},v=(n(31),{url:"http://192.168.0.15:8000/api/",register:function(e,t,n,r,a){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("name cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("surname cannot be empty");if("string"!==typeof n)throw TypeError("".concat(n," should be a string"));if(!n.trim().length)throw Error("email cannot be empty");if("string"!==typeof r)throw TypeError("".concat(r," should be a string"));if(!r.trim().length)throw Error("password cannot be empty");if("string"!==typeof a)throw TypeError("".concat(a," should be a string"));if(!a.trim().length)throw Error("passwordConfirm cannot be empty");return fetch(this.url+"/user",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e,surname:t,email:n,password:r,passwordConfirm:a})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e}).catch(function(e){if(e)throw e})},login:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("email cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("password cannot be empty");return fetch(this.url+"/user/auth",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e}).catch(function(e){if(e)throw e})},retrieve:function(e){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");return fetch(this.url+"/user",{method:"GET",headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},update:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if(!t)throw Error("data must exist");if(t.constructor!==Object)throw TypeError("".concat(t," should be an object"));return fetch(this.url+"/user/profile",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({data:t})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},remove:function(e){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");return fetch(this.url+"/user",{method:"DELETE",headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},createRootDir:function(e){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");return fetch(this.url+"/create/root",{method:"POST",headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},createDir:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("dirPath cannot be empty");return fetch(this.url+"create/dir?dirPath=".concat(t),{method:"POST",headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},retrieveDir:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("dirPath cannot be empty");return fetch(this.url+"dir?path=".concat(t),{method:"GET",headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},createFile:function(e,t,n){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if(!t)throw Error("fileContent must exist");if(t.constructor!==Object)throw TypeError("".concat(t," should be an object"));if("string"!==typeof n)throw TypeError("".concat(n," should be a string"));if(!n.trim().length)throw Error("filePath cannot be empty");return fetch(this.url+"create/file?filePath=".concat(n),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({fileContent:t})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},retrieveFile:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("filePath cannot be empty");return fetch(this.url+"file?path=".concat(t),{headers:{authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},updateFile:function(e,t,n){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("filePath cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("filePath cannot be empty");return n='"'.concat(n,'"'),fetch(this.url+"file?filePath=".concat(t),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({fileContent:n})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},updatePositions:function(e,t,n){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("path cannot be empty");if("number"!==typeof n)throw TypeError("".concat(n," should be a string"));return fetch(this.url+"positions?elementPath=".concat(t,"&position=").concat(n),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},removeDir:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("dirPath cannot be empty");return fetch(this.url+"dir?dirPath=".concat(t),{method:"DELETE",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},removeFile:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("filePath cannot be empty");return fetch(this.url+"file?filePath=".concat(t),{method:"DELETE",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},rename:function(e,t,n){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("oldName cannot be empty");if("string"!==typeof n)throw TypeError("".concat(n," should be a string"));if(!n.trim().length)throw Error("newName cannot be empty");return fetch(this.url+"rename?newName=".concat(n,"&oldName=").concat(t),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},retrieveLevel:function(e,t){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");return fetch(this.url+"level?dirPath=".concat(t),{method:"GET",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},moveFile:function(e,t,n){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("oldPath cannot be empty");if("string"!==typeof n)throw TypeError("".concat(n," should be a string"));if(!n.trim().length)throw Error("newPath cannot be empty");return fetch(this.url+"move/file?oldPath=".concat(t,"&newPath=").concat(n),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})},moveDir:function(e,t,n){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("token cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("oldPath cannot be empty");if("string"!==typeof n)throw TypeError("".concat(n," should be a string"));if(!n.trim().length)throw Error("newPath cannot be empty");return fetch(this.url+"move/dir?oldPath=".concat(t,"&newPath=").concat(n),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})}}),j={__userApiToken__:null,get isUserLoggedIn(){return!!this.__userApiToken__},logOutUser:function(){this.__userApiToken__=null},register:function(e,t,n,r,a){if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("name cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("surname cannot be empty");if("string"!==typeof n)throw TypeError("".concat(n," should be a string"));if(!n.trim().length)throw Error("email cannot be empty");if("string"!==typeof r)throw TypeError("".concat(r," should be a string"));if(!r.trim().length)throw Error("password cannot be empty");if("string"!==typeof a)throw TypeError("".concat(a," should be a string"));if(!a.trim().length)throw Error("passwordConfirm cannot be empty");return v.register(e,t,n,r,a)},login:function(e,t){var n=this;if("string"!==typeof e)throw TypeError("".concat(e," should be a string"));if(!e.trim().length)throw Error("email cannot be empty");if("string"!==typeof t)throw TypeError("".concat(t," should be a string"));if(!t.trim().length)throw Error("password cannot be empty");return v.login(e,t).then(function(e){return n.__userApiToken__=e})},retrieve:function(){return v.retrieve(this.__userApiToken__)},update:function(e){if(!e)throw Error("data must exist");if(e.constructor!==Object)throw TypeError("".concat(e," should be an object"));return v.update(this.__userApiToken__,e)},remove:function(){return v.remove(this.__userApiToken__)},createRootDir:function(){return v.createRootDir(this.__userApiToken__)},createDir:function(e){return v.createDir(this.__userApiToken__,e)},retrieveDir:function(e){return v.retrieveDir(this.__userApiToken__,e)},createFile:function(e,t){return v.createFile(this.__userApiToken__,e,t)},retrieveFile:function(e){return v.retrieveFile(this.__userApiToken__,e)},updateFile:function(e,t){return v.updateFile(this.__userApiToken__,e,t)},updatePositions:function(e,t){return v.updatePositions(this.__userApiToken__,e,t)},removeDir:function(e){return v.removeDir(this.__userApiToken__,e)},removeFile:function(e){return v.removeFile(this.__userApiToken__,e)},rename:function(e,t){return v.rename(this.__userApiToken__,e,t)},retrieveLevel:function(e){return v.retrieveLevel(this.__userApiToken__,e)},moveFile:function(e,t){return v.moveFile(this.__userApiToken__,e,t)},moveDir:function(e,t){return v.moveDir(this.__userApiToken__,e,t)}};var T=function(e){var t,n,o,i=e.onDragStart,c=e.onDrop,l=e.allowDrop,h=e.dir,m=e.handleDivs,d=e.pos,p=e.changeName,g=e.handleName,E=e.onTrashDrop,b=e.checkNews,_=e.openDir,y=e.openFile,w=e.dragItem,v=e.setDragzoneError,T=(e.changeItems,Object(r.useState)(new Array(48).fill(null))),k=Object(f.a)(T,2),O=k[0],N=k[1],F=Object(r.useState)(null),S=Object(f.a)(F,2),C=S[0],D=S[1],x=Object(r.useState)(null),P=Object(f.a)(x,2),L=(P[0],P[1]),z=Object(r.useRef)();return Object(r.useEffect)(function(){b(),m()},[h]),Object(r.useEffect)(function(){m()},[C]),b=function(){document.querySelector("#inputId")&&document.querySelectorAll("#inputId").forEach(function(e){"_newFile.txt"!==e.innerHTML&&"_newFolder"!==e.innerHTML||(e.addEventListener("click",function(e){return p(e)}),e.click())})},g=function(e,n){return C=e.target.value,D(e.target.value),document.querySelectorAll("#inputId").forEach(function(t){if(t.innerText===e.target.value)return v("Item with name ".concat(e.target.value," already exists"))}),j.rename(t,C).then(function(){return m()}).then(function(){return window.location.reload()}).catch(function(e){v("There has been an error while renaming")})},p=function(e){if("null"!==e.target.parentElement&&null!==e.target.parentElement){t=e.target.firstChild.data;var n=document.createElement("input");if(n.name="newName",n.type="text",n.id="inputId",n.className="nameInput",n.addEventListener("keyup",function(e){"Enter"===e.key&&g(e)}),"nameInput"!==e.target.className)return e.target.parentElement.replaceChild(n,e.target),n.focus()}},i=function(e){n=e.target,e.target.firstChild.innerText||e.target.firstChild.firstChild?e.dataTransfer.setData("text/plain",e.target.firstChild.innerText?e.target.firstChild.innerText:e.target.firstChild.firstChild.innerText):v("Please name the item before moving it.")},l=function(){var e=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o="inputId"!==t.target.id?t.target:t.target.parentElement;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.dataTransfer.getData("text");return t?"folder"===n.id?j.removeDir(t).then(function(){return m()}).catch(function(e){return v(e)}):j.removeFile(t).then(function(){return m()}).catch(function(e){return v(e)}):v("Cannot remove unnamed items")},Object(r.useEffect)(function(){w&&c(null,w)},[w]),c=function(e,t){if(e&&e.preventDefault(),void 0===t){if(!n)return;if("file"===n.id&&"folder"===o.id){var r=n.firstChild.innerText,a=o.firstChild.innerText+"/"+r;return j.moveFile(r,a).then(function(){return m()}).catch(function(e){return v(e)})}if("folder"===n.id&&"folder"===o.id){if(n===o)return v("Cannot move a folder into itself");var i="/"+n.firstChild.innerText,c="/"+o.firstChild.innerText+i;return j.moveDir(i,c).then(function(){return m()}).catch(function(e){return v(e)})}return"folder"===n.id&&"file"===o.id?void v("Cannot move a folder into a file"):"file"===n.id&&"file"===o.id?v("Cannot move a file into a file"):n.firstChild.innerText?j.updatePositions(n.firstChild.innerText,Number(o.id)).then(function(){return m()}).catch(function(e){v(e)}):v("Cannot move an unnamed item")}if("folder"===t[1]){var l="/"+t[0].split("/").reverse()[0];return j.moveDir(t[0],l).then(function(){return L(t),m()}).catch(function(e){v(e)})}if("file"===t[1]){var u="/"+t[0].split("/").reverse()[0];return j.moveFile(t[0],u).then(function(){return L(t),m()}).catch(function(e){v(e)})}},m=function(){return j.retrieveLevel("/").then(function(e){return d=e.children}).then(function(){N(O.map(function(e,t){var n=d.find(function(e){return e.position==t});return n?"folder"===n.type?a.a.createElement("div",{className:"droppable",key:t,keys:t,id:t,onDoubleClick:function(e){return _(e)},onDrop:function(e){return c(e)},onDragOver:function(e){return l(e)}},a.a.createElement("span",{id:n.type,keys:"span".concat(t),className:"fas fa-folder fa-3x dragzone__folder",draggable:"true",onDragStart:function(e){return i(e)}},a.a.createElement("p",{className:"name",id:"inputId",onClick:function(e){return p(e)}},"".concat(n.name)))):"file"===n.type?a.a.createElement("div",{className:"droppable",key:t,keys:t,id:t,onDoubleClick:function(e){return y(e)},onDrop:function(e){return c(e)},onDragOver:function(e){return l(e)}},a.a.createElement("span",{id:n.type,keys:"span".concat(t),className:"fas fa-file fa-3x dragzone__folder",draggable:"true",onDragStart:function(e){return i(e)}},a.a.createElement("p",{className:"name",id:"inputId",onClick:function(e){return p(e)}},n.name))):a.a.createElement("div",{className:"droppable",key:t,keys:t,id:t,onDrop:function(e){return c(e)},onDragOver:function(e){return l(e)}},a.a.createElement("span",null)):47===t?a.a.createElement("div",{className:"droppable",key:t,keys:t,id:t,onDrop:function(e){return E(e)},onDragOver:function(e){return l(e)}},a.a.createElement("span",{className:"fas fa-trash-alt fa-2x"})):a.a.createElement("div",{className:"droppable",key:t,keys:t,id:t,onDrop:function(e){return c(e)},onDragOver:function(e){return l(e)}},a.a.createElement("span",null))}))}).catch(function(e){v(e)})},a.a.createElement("section",{className:"dragzone",ref:z},O)};n(32);var k=function(e){var t,n,o=e.name,i=e.file,c=e.filePath,l=e.closeFile,u=e.showMenu,s=e.saveFile,h=e.onDrag,m=e.onDragStart,d=e.dragEnd,p=e.fileFeedback,g=Object(r.useRef)(),E=Object(r.useState)(!1),b=Object(f.a)(E,2),_=b[0],y=b[1],w=Object(r.useState)(null),v=Object(f.a)(w,2),T=v[0],k=v[1];return s=function(){return T=g.current.innerText,k(g.current.innerText),j.updateFile(c,T).then(function(){return u()}).catch(function(e){p(e)})},u=function(){_=!_,y(function(e){return!e}),!0===_&&setTimeout(function(){return y(function(e){return!e})},3e3)},m=function(e){t=e.clientX,n=e.clientY},h=function(e){var r=t-e.clientX,a=n-e.clientY;t=e.clientX,n=e.clientY,e.target.style.top=e.target.offsetTop-a+"px",e.target.style.left=e.target.offsetLeft-r+"px"},d=function(e){var r=t-e.clientX,a=n-e.clientY;t=e.clientX,n=e.clientY,e.target.style.top=e.target.offsetTop-a+"px",e.target.style.left=e.target.offsetLeft-r+"px"},a.a.createElement("section",{className:"file",draggable:!0,onDrag:function(e){return h(e)},onDragStart:function(e){return m(e)},onDragEnd:d},a.a.createElement("header",{className:"file__header"},a.a.createElement("i",{className:"fas fa-times",onClick:l}),a.a.createElement("p",null,o)),a.a.createElement("div",{className:"file__top"},a.a.createElement("div",{className:"file__top__file",onClick:function(){return u()}},"File"),_&&a.a.createElement("div",{className:"file__top__menu"},a.a.createElement("div",{className:"file__top__menu__item",onClick:function(){return s()}},"Save"))),a.a.createElement("div",{className:"file__content",ref:g,contentEditable:"true"},i))};n(33);var O=function(e){var t=e.menuX,n=e.menuY,r=e.logOut;return a.a.createElement("section",{className:"menu",style:{top:"".concat(t,"px"),left:"".concat(n,"px")}},a.a.createElement("div",{className:"menu__item",onClick:function(){return r()}},a.a.createElement("p",null,"Logout")))};n(34);var N=function(e){var t,n,o=e.content,i=e.close,c=e.dragStart,l=e.dragChanged,u=e.openFolder,s=e.openFile,h=e.openFileFromFinder,m=e.onDragStart,d=e.onDrag,p=e.dragEnd,g=e.actualFinderPath,E=e.finderFeedback,b=e.changePath,_=Object(r.useRef)(),y=Object(r.useState)(null),w=Object(f.a)(y,2),v=w[0],T=w[1],k=Object(r.useState)(o),O=Object(f.a)(k,2),N=O[0],F=O[1],S=Object(r.useState)(g),C=Object(f.a)(S,2),D=C[0],x=C[1],P=Object(r.useState)(null),L=Object(f.a)(P,2),z=L[0],I=L[1];return l=function(e){I(!z),c(e)},Object(r.useEffect)(function(){F(o)},[o]),Object(r.useEffect)(function(){},[N,z]),Object(r.useEffect)(function(){v&&b(v)},[v]),u=function(e){var t,n="/"+("/"!==(D=g)?D+"/"+e.target.innerText:"/"+e.target.innerText).split("").filter(function(e){return"\u21b5"!==e&&"\n"!==e}).join("").split("/").reverse()[0];return"/"!==D?(t=D+n,x(D+n)):(t=n,x(n)),T(t),j.retrieveLevel(t).then(function(e){F(e)}).catch(function(e){E(e)})},s=function(e){var t=("/"!==(D=g)?D+"/"+e.target.innerText:"/"+e.target.innerText).split("").filter(function(e){return"\u21b5"!==e&&"\n"!==e}).join("");h(t)},m=function(e){t=e.clientX,n=e.clientY},d=function(e){var r=t-e.clientX,a=n-e.clientY;t=e.clientX,n=e.clientY,e.target.style.top=e.target.offsetTop-a+"px",e.target.style.left=e.target.offsetLeft-r+"px"},p=function(e){var r=t-e.clientX,a=n-e.clientY;t=e.clientX,n=e.clientY,e.target.style.top=e.target.offsetTop-a+"px",e.target.style.left=e.target.offsetLeft-r+"px"},a.a.createElement("section",{className:"finder",id:"finder",draggable:!0,ref:_,onDrag:function(e){return d(e)},onDragStart:function(e){return m(e)},onDragEnd:p},a.a.createElement("header",{className:"finder__header",id:"finder-header"},a.a.createElement("i",{className:"fas fa-times",onClick:i}),a.a.createElement("p",null,N.name)),a.a.createElement("section",{className:"finder__content"},N.children.length>0?a.a.createElement("section",{className:"finder__list"},N.children.map(function(e,t){return"folder"===e.type?a.a.createElement("div",{className:"finder__item",key:t,onClick:function(e){return u(e)}},a.a.createElement("i",{className:"fas fa-folder"}),a.a.createElement("p",null,e.name)):a.a.createElement("div",{className:"finder__item",key:t,onClick:function(e){return s(e)}},a.a.createElement("i",{className:"fas fa-file"}),a.a.createElement("p",null,e.name))})):null,N.children.length>0?a.a.createElement("section",{className:"finder__dragzone"},N.children.map(function(e,t){return"folder"===e.type?a.a.createElement("div",{className:"finder__dragzone__item",id:e.type,key:t,draggable:!0,onDragStart:function(e){return l(e)}},a.a.createElement("i",{className:"fas fa-folder fa-3x"}),a.a.createElement("p",null,e.name)):a.a.createElement("div",{className:"finder__dragzone__item",id:e.type,key:t,draggable:!0,onDragStart:function(e){return l(e)}},a.a.createElement("i",{className:"fas fa-file fa-3x"}),a.a.createElement("p",null,e.name))})):a.a.createElement("section",{className:"finder__empty"},a.a.createElement("p",null,"No Files Found"))))};n(35);var F=function(e){var t=e.handleState,n=e.handleNewFolder,o=e.handleNewFile,i=e.openDir,c=e.closeFinder,l=e.openFinderRoot,h=e.openMenu,m=e.logOut,d=e.handleLogout,g=e.openFile,E=e.closeFile,b=e.dragStart,v=e.openFileFromFinder,F=e.updatePath,S=e.closeFeedback,C=e.dragzoneError,D=e.openCalc,x=e.changeItems,P=Object(r.useState)([]),L=Object(f.a)(P,2),z=L[0],I=L[1],A=Object(r.useState)([]),R=Object(f.a)(A,2),M=R[0],q=R[1],B=Object(r.useState)(null),U=Object(f.a)(B,2),X=U[0],Y=U[1],J=Object(r.useState)(!1),H=Object(f.a)(J,2),G=H[0],W=H[1],K=Object(r.useState)(!1),Q=Object(f.a)(K,2),V=Q[0],Z=Q[1],$=Object(r.useState)(null),ee=Object(f.a)($,2),te=ee[0],ne=ee[1],re=Object(r.useState)(null),ae=Object(f.a)(re,2),oe=ae[0],ie=ae[1],ce=Object(r.useState)(null),le=Object(f.a)(ce,2),ue=le[0],se=le[1],fe=Object(r.useState)(null),he=Object(f.a)(fe,2),me=he[0],de=he[1],pe=Object(r.useState)(null),ge=Object(f.a)(pe,2),Ee=ge[0],be=ge[1],_e=Object(r.useState)(null),ye=Object(f.a)(_e,2),we=ye[0],ve=ye[1],je=Object(r.useState)(null),Te=Object(f.a)(je,2),ke=Te[0],Oe=Te[1],Ne=Object(r.useState)(!0),Fe=Object(f.a)(Ne,2),Se=Fe[0],Ce=Fe[1],De=Object(r.useState)(null),xe=Object(f.a)(De,2),Pe=xe[0],Le=xe[1],ze=Object(r.useState)(null),Ie=Object(f.a)(ze,2),Ae=Ie[0],Re=Ie[1],Me=Object(r.useState)(null),qe=Object(f.a)(Me,2),Be=qe[0],Ue=qe[1],Xe=Object(r.useState)(null),Ye=Object(f.a)(Xe,2),Je=Ye[0],He=Ye[1],Ge=Object(r.useState)(null),We=Object(f.a)(Ge,2),Ke=We[0],Qe=We[1],Ve=Object(r.useRef)();return Object(r.useEffect)(function(){t()},[]),Object(r.useEffect)(function(){},[Pe]),Object(r.useEffect)(function(){},[ke]),x=function(){Qe(!Ke)},t=function(){return j.retrieveLevel("/").then(function(e){q(e.children)}).then(function(){return j.retrieveDir("/")}).then(function(e){I(e)}).catch(function(e){Re(!0),Ue(e)})},n=function(){return j.createDir("/_newFolder").then(function(){return j.retrieveLevel("/")}).then(function(e){I(e.children)}).then(function(){return t()}).catch(function(e){Re(!0),Ue(e)})},o=function(){return j.createFile({type:".txt",content:""},"/_newFile").then(function(){return j.retrieveLevel("/")}).then(function(e){I(e.children)}).then(function(){return t()}).catch(function(e){Re(!0),Ue(e)})},i=function(e){if(e.target.firstChild){var t="/"+e.target.firstChild.innerText;return Le(t),j.retrieveLevel(t).then(function(e){W(!0),Y(e)}).catch(function(e){Re(!0),Ue(e)})}},g=function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.firstChild){e.next=2;break}return e.abrupt("return");case 2:return n="/"+t.target.firstChild.innerText,e.next=5,be(t.target.firstChild.innerText);case 5:return e.next=7,ve(n);case 7:return e.abrupt("return",j.retrieveFile(n).then(function(e){de(e),se(!0)}).catch(function(e){Re(!0),Ue(e)}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(e){return be(e.split("/").reverse()[0]),ve(e),j.retrieveFile(e).then(function(e){de(e),se(!0)}).catch(function(e){Re(!0),Ue(e)})},l=function(){return Le("/"),j.retrieveLevel("/").then(function(e){W(!0),Y(e)}).catch(function(e){Re(!0),Ue(e)})},c=function(){W(!1)},E=function(){se(!1)},h=function(e){ne(e.clientX),ie(e.clientY),Z(!0),setTimeout(function(){return Z(!1)},3e3)},m=function(){Ce(!1),d()},b=function(e){var t=e.target.innerText,n=e.target.id,r=t.split("").filter(function(e){return"\u21b5"!==e&&"\n"!==e}).join("");Oe([Pe+"/"+r,n])},F=function(e){e&&Le(e)},S=function(){Re(!1),Ue(null),He(null)},C=function(e){"Unexpected end of JSON input"===e&&(e="There has been an error while connecting"),Re(!0),Ue(e)},D=function(){},a.a.createElement("section",{className:"desktop",id:"desktop",ref:Ve},Ae&&a.a.createElement(p,{actualError:Be,actualMessage:Je,closeFeedback:S}),a.a.createElement("div",{className:"desktop__clock"},Se&&a.a.createElement(y,{showClock:Se})),a.a.createElement("div",{className:"desktop__todos"},Ve&&a.a.createElement(w,{desktop:Ve})),a.a.createElement("div",{className:"desktop__toolbar"},a.a.createElement(_,{newFolder:n,newFile:o,openFinder:l,openMenu:h,openCalc:D})),a.a.createElement("div",{className:"desktop__dragzone"},a.a.createElement(T,{dir:z,pos:M,openDir:i,openFile:g,dragItem:ke,setDragzoneError:C,changeItems:x})),X&&G&&Pe?a.a.createElement(N,{pathFromFinder:void 0,actualFinderPath:Pe,content:X,close:c,dragStart:b,openFileFromFinder:v,changePath:F,finderFeedback:C}):null,V?a.a.createElement(O,{menuX:te,menuY:oe,logOut:m}):null,ue?a.a.createElement(k,{file:me,filePath:we,name:Ee,closeFile:E,fileFeedback:C}):null)};var S=Object(d.a)(function(e){var t=e.history,n=e.handleGoToLogin,o=e.handleGoToRegister,i=e.handleLogin,c=e.handleRegister,l=e.handleLogout,d=e.closeFeedback,_=Object(r.useState)(!0),y=Object(f.a)(_,2),w=y[0],v=y[1],T=Object(r.useState)(null),k=Object(f.a)(T,2),O=k[0],N=k[1],S=Object(r.useState)(null),C=Object(f.a)(S,2),D=C[0],x=C[1],P=Object(r.useState)(null),L=Object(f.a)(P,2),z=L[0],I=L[1];return Object(r.useEffect)(function(){},[w]),n=function(){t.push("/login")},o=function(){t.push("/register")},i=function(e,n){j.login(e,n).then(function(e){return j.__userApiToken__=e,j.createRootDir()}).then(function(){return t.push("/desktop")}).catch(function(e){N(!0),x(e)})},c=function(e,n,r,a,o){j.register(e,n,r,a,o).then(function(){return t.push("/login")}).catch(function(e){N(!0),x(e)})},l=function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.logOutUser();case 2:w=!1,v(!1);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=function(){N(!1),x(null),I(null)},a.a.createElement("main",{className:"App"},O&&a.a.createElement(p,{actualError:D,actualMessage:z,closeFeedback:d}),a.a.createElement(h.a,{exact:!0,path:"/",render:function(){return j.isUserLoggedIn?a.a.createElement(m.a,{to:"/desktop"}):a.a.createElement(g,{goToLogin:n,goToRegister:o})}}),a.a.createElement(h.a,{path:"/login",render:function(){return j.isUserLoggedIn?a.a.createElement(m.a,{to:"/desktop"}):a.a.createElement(E,{onLogin:i,goToRegister:o})}}),a.a.createElement(h.a,{path:"/register",render:function(){return j.isUserLoggedIn?a.a.createElement(m.a,{to:"/desktop"}):a.a.createElement(b,{onRegister:c,goToLogin:n})}}),a.a.createElement(h.a,{path:"/desktop",render:function(){return j.isUserLoggedIn?a.a.createElement(F,{handleLogout:l}):a.a.createElement(m.a,{to:"/"})}}))});n(39);Object.defineProperties(j,{__userApiToken__:{set:function(e){e?sessionStorage.setItem("__userApiToken__",e):sessionStorage.removeItem("__userApiToken__")},get:function(){return sessionStorage.getItem("__userApiToken__")}}}),i.a.render(a.a.createElement(c.a,null,a.a.createElement(S,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.0103aed4.chunk.js.map